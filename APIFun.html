<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
	<script>
	
	function getFact(){
		request = new XMLHttpRequest();
		console.log("1 - request object created");
		
		request.open("GET", "https://uselessfacts.jsph.pl/random.json?language=en", true)
		console.log("2 - opened request file");
		
		request.onreadystatechange = function() {
				console.log("3 - readystatechange event fired.");
 
				if (request.readyState == 4 && request.status == 200) {
					
					console.log("5 - response received");
					result = request.responseText;
					ranFact = JSON.parse(result);
					
					document.getElementById("data").innerHTML = "Random Fact (Using GET): " + ranFact.text; 
					
				} else if (request.readyState == 4 && request.status != 200) {

					document.getElementById("data").innerHTML = "Something is wrong!  Check the logs to see where this went off the rails";

				} else if (request.readyState == 3) {

					document.getElementById("data").innerHTML = "Too soon!  Try again";

				}
		}
		request.send();
		console.log("4 - Request sent");

	}
		
	async function getFactFetch(){
		let responce = await fetch("https://uselessfacts.jsph.pl/random.json?language=en");
		let data = await responce.json();
		
		document.getElementById("data2").innerHTML = "Random Fact (Using Fetch): " + data.text; 
			
		};
</script>
	<style>
		div {
			text-align: center;
			font-family: "Gill Sans", "Gill Sans MT", "Myriad Pro", "DejaVu Sans Condensed", Helvetica, Arial, "sans-serif";
			padding: 20px;
			font-size: 30px;
			font-weight: 100;
		}
		
		#title {
			font-weight: 800;
			font-size: 50px;
			animation: colorChange;
			animation-duration: 5s;
			animation-iteration-count: infinite;
			
		}
		
		@keyframes colorChange{
			0% {
				color: rgba(255,0,4,1.00);
			}
			25% {
				color: rgba(0,85,255,1.00);
			}
			75% {
				color: rgba(3,255,61,1.00);
			}
			100%{
				color: rgba(255,0,4,1.00);
			}
		}
		button {
			width:10%;
			margin-left: 44.5%;
			margin-top: 30px;
			font-size: 20px;
			font-family: "Gill Sans", "Gill Sans MT", "Myriad Pro", "DejaVu Sans Condensed", Helvetica, Arial, "sans-serif";
			padding: 20px;
		}
	</style>
</head>

<body onLoad="getFact(),getFactFetch()">
	<div id="title">Random Fact Genorator!</div>
	<div id="data">Loading Fact!</div>
	<div id="data2">Loading Fact!</div>
	
	<button onClick="getFact(),getFactFetch()">Generate Again!</button>
</body>
</html>
